{% extends 'index.html' %}
{% load static %}


{% block content %}
<div class="ui orange clearing segment" style="margin-top: 55px;">
    <h3 class="ui dividing header">Испытание {{ trials.pk }}</h3>
    <div class="ui list">
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Размер частиц:</div>
                <div class="thirteen wide column">{{ trials.size_particle }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Скорость соударения:</div>
                <div class="thirteen wide column">{{ trials.speed_collision }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Дополнительные параметры:</div>
                <div class="thirteen wide column">{{ trials.add_param }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Угол соударения:</div>
                <div class="thirteen wide column">{{ trials.corner_collision }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Дата начала испытаний:</div>
                <div class="thirteen wide column">{{ trials.date_trials }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Дата окончания испытаний:</div>
                <div class="thirteen wide column">{{ trials.date_end_trials }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Тип частиц:</div>
                <div class="thirteen wide column">{{ trials.type_particle }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Описание:</div>
                <div class="thirteen wide column">{{ trials.description }}</div>
            </div>
        </div>
        <div class="item">
            <div class="ui grid">
                <div class="three wide column">Образец:</div>
                <div class="thirteen wide column">{{ trials.sample }}</div>
            </div>
        </div>
        <br>
        <form action="{% url 'trial:update' trials.pk %}">
            <button class="ui right floated button">Изменить</button>
        </form>
    </div>  
</div>

<div class="ui orange segment">
    <h3 class="ui dividing header">Эксперементы</h3>
    <table class="ui celled striped table green compact">
        <thead>
            <tr>
                <th>Изменение массы за время испытания</th>
                <th>Время испытания</th>
                <th>Изображение</th>
            </tr>
        </thead>
        <tbody id='experiments_table'>
            {% for experiment in trials.trials_values.all %}
            <tr>
                <td>{{ experiment.change_weight }}</td>
                <td>{{ experiment.time_trials }}</td>
                <td>{{ experiment.image }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="field">
        <div class="ui button positive material">Создать</div>
    </div>
</div>
{% endblock content %}

{% block scripts %}
<script src="{% static 'Trial/js/experiment.js' %}"></script>
<script>



$('.ui.button.positive.material').click(function () { // создаю модальное окно, с формой для создания эксперемента
    $.ajax({
        url: '{% url 'trial:create_experiment' %}',
        type: 'get',
        success: function(data)
        { // Получили форму модального окна
            $(data).modal().modal('show');
        }
    });
});
</script>
{% endblock scripts %}
